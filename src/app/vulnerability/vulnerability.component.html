<div class="vulnWrapper" *ngIf="vulnerability">
  <div class="stepNavigator">
    <h3>{{vulnerability.description}}</h3>
    <br>
      <button class="btn" (click)="showPreviousStep()" [disabled]="0 >= selectedStepIndex">
        <clr-icon shape="rewind"></clr-icon>
        Previous Step
      </button>
      <button class="btn btn-primary" (click)="scrollToStep()">
        Step {{selectedStepIndex+1}}
      </button>
      <button class="btn" (click)="showNextStep()" [disabled]="selectedStepIndex >= numberOfSteps-1">
        Next Step
        <clr-icon shape="fast-forward"></clr-icon>
      </button>

  </div>

  <div class="codeEditors" #codeEditors>
    <div class="card" *ngFor="let fileStep of fileSteps; let i = index">
      <div class="card-header">
        {{fileStep.path}}
      </div>
      <div class="card-block">
        <div class="card-text">
          <app-code-editor
            style="height: 500px"
            (didScrollTo) = "onDidScrollTo($event)"
            [codeLenses]="fileStep.codeLenses"
            [deltaDecorations]="fileStep.deltaDecorations"
            [selectedStepIndex]="selectedStepIndex"
            [stepsRange]="fileStep.stepsRange"
            [value]="fileStep.content$ | async">
          </app-code-editor>
        </div>
      </div>
    </div>
  </div>
</div>
